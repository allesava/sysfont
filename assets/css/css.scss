/*! Version 22.11.15b */
@use "sass:math";
@import "variables";

@font-face {
	font-family: 'sysfont';
	src: url('../fonts/sysfont.woff2') format('woff2'),
	url('../fonts/sysfont.woff') format('woff');
}

html {
	font-size: 20px;

	--c-text: hsla(0, 0%, 0%, 1);
	--font: 'sysfont', -apple-system, system-ui, sans-serif;
	--w-reg: 400;
	--w-bold: 400;
}

body {
	font-family: var(--font);
	font-weight: var(--w-reg);
	color: var(--c-text);
	font-size: 1rem;
	line-height: 1.5;
	margin: 0;
	font-feature-settings: "tnum";
	overflow-x: hidden;
	position: relative;
	background: url('../img/bg.png') repeat;
	background-size: 4px 4px;
}

*,
*::before,
*::after {
	box-sizing: border-box;
	outline: none;
}

::selection {
	color: $c-bg;
	background: var(--c-text);
}

a {
	text-decoration: none;
	color: currentColor;

	&.external {
		background: linear-gradient(to top, currentColor 1px, transparent 1px);

		&::after {
			content: '';
			//content: ' âžš';
			background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M12,0V5.333H10.667V2.666H9.334V1.333H6.667V0H12ZM9.334,8v2.666h1.333v-4H9.334ZM8,4H9.334V2.666H8ZM6.667,10.667H1.333V12h8V10.667H6.667Zm0-5.334H8V4H6.667ZM5.333,6.667H6.667V5.333H5.333ZM4,2.666H5.333V1.333h-4V2.666H4ZM1.333,8V2.666H0v8H1.333V8Z'/%3E%3C/svg%3E");
			background-size: 12px 12px;
			background-repeat: no-repeat;
			display: inline-block;
			margin: 0 0.2rem;
			font-size: 0.8em;
			width: 12px;
			height: 12px;
		}
	}
}

h1, h2, h3, h4 {
	color: var(--c-text);
	font-weight: var(--w-bold);
	font-size: 1rem;
	line-height: 1.3;
	margin: 0 0 math.div($gap, 4);
}

p {
	margin: 0 0 math.div($gap, 4);

	&:last-child {
		margin-bottom: 0;
	}
}

#header {
	z-index: 912;
	position: absolute;
	top: math.div($gap, 2);
	left: math.div($gap, 2);

	nav {
		display: inline-flex;
		color: var(--c-text);
		line-height: 1.3;

		@media (min-width: $breakpoint-tablet) {
			flex-flow: column nowrap;
		}

		a {
			position: relative;
			display: flex;
			flex-flow: column nowrap;
			justify-content: center;
			align-items: center;
			text-align: center;
			width: 81px;
			margin-bottom: math.div($gap, 2);
			background: transparent;

			.folder {
				width: 100%;
				height: 60px;
				background: $c-bg;
				border-radius: $radius;
				z-index: 3;
				position: relative;
				outline: 2px solid var(--c-text);

				&::before {
					content: '';
					border-radius: $radius 0 0 0;
					width: 30px;
					height: 12px;
					background: $c-bg;
					position: absolute;
					top: -6px;
					left: 12px;
					z-index: -1;
					border-top: 2px solid var(--c-text);
				}
			}

			.folder-name {
				margin: 10px 0 0;
				background: $c-bg;
				padding: 2px 3px;
				line-height: 1;
				font-size: 0.9rem;
				border: 1px dotted var(--c-text);
			}
		}
	}
}

main {
	width: calc(100% - #{$gap} / 2);
	max-width: 600px;
	margin: 0 auto;
	z-index: 99;
	display: flex;
	justify-content: center;
	align-items: center;
	height: 100vh;

	.wndw {
		background: $c-bg;
		position: relative;
		border: 2px solid var(--c-text);
		outline: 1px solid hsla(0, 0%, 0%, 0.3);
		outline-offset: -3px;

		&::before {
			content: '';
			position: absolute;
			top: 4px;
			left: 3px;
			z-index: 0;
			width: calc(100% - 6px);
			height: 22px;
			background: repeating-linear-gradient(180deg, var(--c-text) 0, var(--c-text) 2px, $c-bg 0, $c-bg 4px);
		}

		&::after {
			content: attr(data-title);
			letter-spacing: 1px;
			position: absolute;
			left: 50%;
			top: 2px;
			transform: translate(-50%, 0);
			margin: 0;
			z-index: 13;
			background: $c-bg;
			display: inline-block;
			padding: 1px 3px 0 5px;
			font-size: 1.2rem;
			line-height: 1;
		}
	}

	.inner	{
		padding: math.div($gap, 2) math.div($gap, 4) math.div($gap, 4);

		&::after {
			content: '';
			position: absolute;
			top: 4px;
			left: 20px;
			z-index: 1;
			width: 22px;
			height: 22px;
			background: $c-bg;
			border: 2px solid var(--c-text);
			outline: 2px solid $c-bg;
		}
	}

	.btn	{
		border: 1px solid var(--c-text);
		outline: 2px solid var(--c-text);
		outline-offset: 1px;
		display: inline-block;
		line-height: 1;
		padding: 3px 9px;
		border-radius: $radius;
		margin: 0 0 math.div($gap, 2);
	}
}

#footer {
	position: fixed;
	bottom: 6px;
	right: 6px;
	background: $c-bg;
	padding: 2px 3px;
	line-height: 1;
	font-size: 0.8rem;
	border: 1px dotted var(--c-text);
}

@media (max-width: $breakpoint-mobile) {
	html {
		font-size: 18px;
	}

	#header {
		position: relative;
		top: auto;
		left: auto;
		margin: 20px auto 0 10px;
		padding: 0;
	}

	main {
		width: calc(100% - #{$gap} / 4);
		justify-content: flex-start;
		align-items: flex-start;
	}
}